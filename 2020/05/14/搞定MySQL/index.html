<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="MySQL," />










<meta name="description" content="一、概述1、什么是数据库 ？　答：数据的仓库，如：在ATM的示例中我们创建了一个 db 目录，称其为数据库 2、什么是 MySQL、Oracle、SQLite、Access、MS SQL Server等 ？　答：他们均是一个软件，都有两个主要的功能：  a. 将数据保存到文件或内存  b. 接收特定的命令，然后对文件进行相应的操作 PS：如果有了以上软件，无须自己再去创建文件和文件夹，而是直接传递">
<meta property="og:type" content="article">
<meta property="og:title" content="搞定MySQL">
<meta property="og:url" content="http://yoursite.com/2020/05/14/%E6%90%9E%E5%AE%9AMySQL/index.html">
<meta property="og:site_name" content="QuanYex&#39;s Blog">
<meta property="og:description" content="一、概述1、什么是数据库 ？　答：数据的仓库，如：在ATM的示例中我们创建了一个 db 目录，称其为数据库 2、什么是 MySQL、Oracle、SQLite、Access、MS SQL Server等 ？　答：他们均是一个软件，都有两个主要的功能：  a. 将数据保存到文件或内存  b. 接收特定的命令，然后对文件进行相应的操作 PS：如果有了以上软件，无须自己再去创建文件和文件夹，而是直接传递">
<meta property="og:image" content="https://images2015.cnblogs.com/blog/425762/201610/425762-20161018154428107-712102355.png">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="http://lulu.izliang.com/yty/bianmawenti.png">
<meta property="article:published_time" content="2020-05-14T02:45:55.000Z">
<meta property="article:modified_time" content="2020-05-16T16:54:10.402Z">
<meta property="article:author" content="QuanYex">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://images2015.cnblogs.com/blog/425762/201610/425762-20161018154428107-712102355.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/05/14/搞定MySQL/"/>





  <title>搞定MySQL | QuanYex's Blog</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">QuanYex's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-首页">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-归档">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/14/%E6%90%9E%E5%AE%9AMySQL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="QuanYex">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1442298964,3218822834&fm=26&gp=0.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QuanYex's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">搞定MySQL</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-14T10:45:55+08:00">
                2020-05-14
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2020-05-17T00:54:10+08:00">
                2020-05-17
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index">
                    <span itemprop="name">学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="一、概述"><a href="#一、概述" class="headerlink" title="一、概述"></a>一、概述</h3><p>1、什么是数据库 ？<br>　<em>答：数据的仓库，如：在ATM的示例中我们创建了一个 db 目录，称其为数据库</em></p>
<p>2、什么是 MySQL、Oracle、SQLite、Access、MS SQL Server等 ？<br>　<em>答：他们均是一个软件，都有两个主要的功能：</em></p>
<ul>
<li><p><em>a. 将数据保存到文件或内存</em></p>
</li>
<li><p><em>b. 接收特定的命令，然后对文件进行相应的操作</em></p>
<p><em>PS：如果有了以上软件，无须自己再去创建文件和文件夹，而是直接传递 命令 给上述软件，让其来进行文件操作，他们统称为数据库管理系统（DBMS，Database Management System）</em></p>
</li>
</ul>
<p>3、什么是SQL ？<br>　<em>答：上述提到MySQL等软件可以接受命令，并做出相应的操作，由于命令中可以包含删除文件、获取文件内容等众多操作，对于编写的命令就是是SQL语句。SQL􏰉􏵮􏵯􏰟，是􏵱􏰚􏵲􏵳􏵴􏰇􏰈􏵱􏰚􏵲􏵳􏵴􏰇􏰈结构化语言（Structured Query Language􏰕􏰐􏵵􏰯）的缩写，SQL􏰜􏰖􏰩􏰽􏵶􏱥􏲲􏰄􏰫􏰬􏰭􏵁􏵷􏰐􏰇􏰈是一种专门用来与数据库通信的语言。</em></p>
<a id="more"></a>

<h3 id="二、下载安装"><a href="#二、下载安装" class="headerlink" title="二、下载安装"></a>二、下载安装</h3><p>MySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，目前属于 Oracle 旗下公司。MySQL 最流行的关系型数据库管理系统，在 WEB 应用方面MySQL是最好的 RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一。</p>
<p>想要使用MySQL来存储并操作数据，则需要做几件事情：<br>　　<em>a. 安装MySQL服务端</em><br>　　<em>b. 安装MySQL客户端</em><br>　　<em>b. 【客户端】连接【服务端】</em><br>　　<em>c. 【客户端】发送命令给【服务端MySQL】服务的接受命令并执行相应操作(增删改查等)</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">下载&#96;&#96;    &#96;&#96;http:&#96;&#96;&#x2F;&#x2F;dev.mysql.com&#x2F;downloads&#x2F;mysql&#x2F;&#96;&#96;安装&#96;&#96;    &#96;&#96;windows:&#96;&#96;      &#96;&#96;点点点&#96;&#96;    &#96;&#96;Linux:&#96;&#96;      &#96;&#96;yum install mysql-server&#96;&#96;    &#96;&#96;Mac:&#96;&#96;      &#96;&#96;点点点</span><br></pre></td></tr></table></figure>

<p><strong>Window版本</strong></p>
<p>1、下载</p>
<p><a href="https://www.cnblogs.com/wupeiqi/articles/5713315.html#" target="_blank" rel="noopener">+ View Code</a></p>
<p>2、解压</p>
<p>如果想要让MySQL安装在指定目录，那么就将解压后的文件夹移动到指定目录，如：C:\mysql-5.7.16-winx64</p>
<p>3、初始化</p>
<p>MySQL解压后的 bin 目录下有一大堆的可执行文件，执行如下命令初始化数据：</p>
<p><a href="https://www.cnblogs.com/wupeiqi/articles/5713315.html#" target="_blank" rel="noopener">+ View Code</a></p>
<p>4、启动MySQL服务</p>
<p>执行命令从而启动MySQL服务</p>
<p><a href="https://www.cnblogs.com/wupeiqi/articles/5713315.html#" target="_blank" rel="noopener">+ View Code</a></p>
<p>5、启动MySQL客户端并连接MySQL服务</p>
<p>由于初始化时使用的【mysqld –initialize-insecure】命令，其默认未给root账户设置密码</p>
<p><a href="https://www.cnblogs.com/wupeiqi/articles/5713315.html#" target="_blank" rel="noopener">+ View Code</a></p>
<p>输入回车，见下图表示安装成功：</p>
<p><img src="https://images2015.cnblogs.com/blog/425762/201610/425762-20161018154428107-712102355.png" alt="img"></p>
<p>到此为止，MySQL服务端已经安装成功并且客户端已经可以连接上，以后再操作MySQL时，只需要重复上述4、5步骤即可。但是，在4、5步骤中重复的进入可执行文件目录比较繁琐，如想日后操作简便，可以做如下操作。</p>
<blockquote>
<p>a. 添加环境变量</p>
<p>将MySQL可执行文件添加到环境变量中，从而执行执行命令即可</p>
<p><a href="https://www.cnblogs.com/wupeiqi/articles/5713315.html#" target="_blank" rel="noopener">+ View Code</a></p>
<p>如此一来，以后再启动服务并连接时，仅需：</p>
<p><a href="https://www.cnblogs.com/wupeiqi/articles/5713315.html#" target="_blank" rel="noopener">+ View Code</a></p>
<p>b. 将MySQL服务制作成windows服务</p>
<p>上一步解决了一些问题，但不够彻底，因为在执行【mysqd】启动MySQL服务器时，当前终端会被hang住，那么做一下设置即可解决此问题：</p>
<p><a href="https://www.cnblogs.com/wupeiqi/articles/5713315.html#" target="_blank" rel="noopener">+ View Code</a></p>
<p>注册成服务之后，以后再启动和关闭MySQL服务时，仅需执行如下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 启动MySQL服务&#96;&#96;net start mysql&#96; &#96;# 关闭MySQL服务&#96;&#96;net stop mysql</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>Linux版本</strong></p>
<p>安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install mysql&#96;&#96;-&#96;&#96;server</span><br></pre></td></tr></table></figure>

<p>服务端启动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql.server start</span><br></pre></td></tr></table></figure>

<p>客户端连接</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">连接：&#96;&#96;  &#96;&#96;mysql -h host -u &#96;&#96;user&#96; &#96;-p&#96; &#96;  &#96;&#96;常见错误：&#96;&#96;    &#96;&#96;ERROR 2002 (HY000): Can&#96;&#96;&#39;t connect to local MySQL server through socket &#39;&#96;&#96;&#x2F;tmp&#x2F;mysql.sock&#39; (2), it means that the MySQL server daemon (Unix) &#96;&#96;or&#96; &#96;service (Windows) &#96;&#96;is&#96; &#96;not&#96; &#96;running.&#96;&#96;退出：&#96;&#96;  &#96;&#96;QUIT 或者 Control+D</span><br></pre></td></tr></table></figure>

<h3 id="三、数据库操作"><a href="#三、数据库操作" class="headerlink" title="三、数据库操作"></a>三、数据库操作</h3><p>1、显示数据库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW DATABASES;</span><br></pre></td></tr></table></figure>

<p>默认数据库：<br>　　mysql - 用户权限相关数据<br>　　test - 用于用户测试数据<br>　　information_schema - MySQL本身架构相关数据</p>
<p>2、创建数据库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># utf-8&#96;&#96;CREATE DATABASE 数据库名称 DEFAULT CHARSET utf8 COLLATE utf8_general_ci;&#96; &#96;# gbk&#96;&#96;CREATE DATABASE 数据库名称 DEFAULT CHARACTER SET gbk COLLATE gbk_chinese_ci;</span><br></pre></td></tr></table></figure>

<p>3、使用数据库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USE db_name;</span><br></pre></td></tr></table></figure>

<p>显示当前使用的数据库中所有表：SHOW TABLES;</p>
<p>4、用户管理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">创建用户&#96;&#96;  &#96;&#96;create user &#96;&#96;&#39;用户名&#39;&#96;&#96;@&#96;&#96;&#39;IP地址&#39;&#96; &#96;identified by &#96;&#96;&#39;密码&#39;&#96;&#96;;</span><br><span class="line">&#96;&#96;删除用户&#96;&#96;  &#96;&#96;drop user &#96;&#96;&#39;用户名&#39;&#96;&#96;@&#96;&#96;&#39;IP地址&#39;&#96;&#96;;</span><br><span class="line">&#96;&#96;修改用户&#96;&#96;  &#96;&#96;rename user &#96;&#96;&#39;用户名&#39;&#96;&#96;@&#96;&#96;&#39;IP地址&#39;&#96;&#96;; to &#96;&#96;&#39;新用户名&#39;&#96;&#96;@&#96;&#96;&#39;IP地址&#39;&#96;&#96;;;</span><br><span class="line">&#96;&#96;修改密码&#96;&#96;  &#96;&#96;set password &#96;&#96;for&#96; &#96;&#39;用户名&#39;&#96;&#96;@&#96;&#96;&#39;IP地址&#39;&#96; &#96;&#x3D; Password(&#96;&#96;&#39;新密码&#39;&#96;&#96;)&#96;&#96; &#96; &#96;PS：用户权限相关数据保存在mysql数据库的user表中，所以也可以直接对其进行操作（不建议）</span><br></pre></td></tr></table></figure>

<p>5、授权管理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">show grants for &#39;用户&#39;@&#39;IP地址&#39;    -- 查看权限</span><br><span class="line">grant 权限 on 数据库.表 to  &#39;用户&#39;@&#39;IP地址&#39; -- 授权</span><br><span class="line">revoke 权限 on 数据库.表 from &#39;用户&#39;@&#39;IP地址&#39;-- 取消权限</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">all privileges  除grant外的所有权限</span><br><span class="line">select          仅查权限</span><br><span class="line">select,insert   查和插入权限</span><br><span class="line">...</span><br><span class="line">usage                   无访问权限</span><br><span class="line">alter                   使用alter table</span><br><span class="line">alter routine           使用alter procedure和drop procedure</span><br><span class="line">create                  使用create table</span><br><span class="line">create routine          使用create procedure</span><br><span class="line">create temporary tables 使用create temporary tables</span><br><span class="line">create user             使用create user、drop user、rename user和revoke  all privileges</span><br><span class="line">create view             使用create view</span><br><span class="line">delete                  使用delete</span><br><span class="line">drop                    使用drop table</span><br><span class="line">execute                 使用call和存储过程</span><br><span class="line">file                    使用select into outfile 和 load data infile</span><br><span class="line">grant option            使用grant 和 revoke</span><br><span class="line">index                   使用index</span><br><span class="line">insert                  使用insert</span><br><span class="line">lock tables             使用lock table</span><br><span class="line">process                 使用show full processlist</span><br><span class="line">select                  使用select</span><br><span class="line">show databases          使用show databases</span><br><span class="line">show view               使用show view</span><br><span class="line">update                  使用update</span><br><span class="line">reload                  使用flush</span><br><span class="line">shutdown                使用mysqladmin shutdown(关闭MySQL)</span><br><span class="line">super                   􏱂􏰈使用change master、kill、logs、purge、master和set global。还允许mysqladmin􏵗􏵘􏲊􏲋调试登陆</span><br><span class="line">replication client      服务器位置的访问</span><br><span class="line">replication slave       由复制从属使用</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">对于目标数据库以及内部其他：</span><br><span class="line">    数据库名.*           数据库中的所有</span><br><span class="line">    数据库名.表          指定数据库中的某张表</span><br><span class="line">    数据库名.存储过程     指定数据库中的存储过程</span><br><span class="line">    *.*                所有数据库</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">用户名@IP地址         用户只能在改IP下才能访问</span><br><span class="line">用户名@192.168.1.%   用户只能在改IP段下才能访问(通配符%表示任意)</span><br><span class="line">用户名@%             用户可以再任意IP下访问(默认IP地址为%)</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">grant all privileges on db1.tb1 TO &#39;用户名&#39;@&#39;IP&#39;</span><br><span class="line"></span><br><span class="line">grant select on db1.* TO &#39;用户名&#39;@&#39;IP&#39;</span><br><span class="line"></span><br><span class="line">grant select,insert on *.* TO &#39;用户名&#39;@&#39;IP&#39;</span><br><span class="line"></span><br><span class="line">revoke select on db1.tb1 from &#39;用户名&#39;@&#39;IP&#39;</span><br></pre></td></tr></table></figure>



<p>特殊的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flush privileges，将数据读取到内存中，从而立即生效。</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 启动免授权服务端</span><br><span class="line">mysqld --skip-grant-tables</span><br><span class="line"></span><br><span class="line"># 客户端</span><br><span class="line">mysql -u root -p</span><br><span class="line"></span><br><span class="line"># 修改用户名密码</span><br><span class="line">update mysql.user set authentication_string&#x3D;password(&#39;666&#39;) where user&#x3D;&#39;root&#39;;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<h3 id="四、数据表基本"><a href="#四、数据表基本" class="headerlink" title="四、数据表基本"></a>四、数据表基本</h3><p>1、创建表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create table 表名(&#96;&#96;  &#96;&#96;列名 类型 是否可以为空，&#96;&#96;  &#96;&#96;列名 类型 是否可以为空&#96;&#96;)ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">是否可空，null表示空，非字符串</span><br><span class="line">    not null    - 不可空</span><br><span class="line">    null        - 可空</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">默认值，创建列时可以指定默认值，当插入数据时如果未主动设置，则自动添加默认值</span><br><span class="line">    create table tb1(</span><br><span class="line">        nid int not null defalut 2,</span><br><span class="line">        num int not null</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">自增，如果为某列设置自增列，插入数据时无需设置此列，默认将自增（表中只能有一个自增列）</span><br><span class="line">     create table tb1(</span><br><span class="line">         nid int not null auto_increment primary key,</span><br><span class="line">         num int null</span><br><span class="line">     )</span><br><span class="line">     或</span><br><span class="line">     create table tb1(</span><br><span class="line">         nid int not null auto_increment,</span><br><span class="line">         num int null,</span><br><span class="line">         index(nid)</span><br><span class="line">     )</span><br><span class="line">     注意：1、对于自增列，必须是索引（含主键）。</span><br><span class="line">          2、对于自增可以设置步长和起始值</span><br><span class="line">              show session variables like &#39;auto_inc%&#39;;</span><br><span class="line">              set session auto_increment_increment&#x3D;2;</span><br><span class="line">              set session auto_increment_offset&#x3D;10;</span><br><span class="line"></span><br><span class="line">              shwo global  variables like &#39;auto_inc%&#39;;</span><br><span class="line">              set global auto_increment_increment&#x3D;2;</span><br><span class="line">              set global auto_increment_offset&#x3D;10;</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">主键，一种特殊的唯一索引，不允许有空值，如果主键使用单个列，则它的值必须唯一，如果是多列，则其组合必须唯一。</span><br><span class="line">    create table tb1(</span><br><span class="line">        nid int not null auto_increment primary key,</span><br><span class="line">        num int null</span><br><span class="line">    )</span><br><span class="line">    或</span><br><span class="line">    create table tb1(</span><br><span class="line">        nid int not null,</span><br><span class="line">        num int not null,</span><br><span class="line">        primary key(nid,num)</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">外键，一个特殊的索引，只能是指定内容</span><br><span class="line">    creat table color(</span><br><span class="line">        nid int not null primary key,</span><br><span class="line">        name char(16) not null</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    create table fruit(</span><br><span class="line">        nid int not null primary key,</span><br><span class="line">        smt char(32) null ,</span><br><span class="line">        color_id int not null,</span><br><span class="line">        constraint fk_cc foreign key (color_id) references color(nid)</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<p>2、删除表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop table 表名</span><br></pre></td></tr></table></figure>

<p>3、清空表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete&#96; &#96;from 表名&#96;&#96;truncate table 表名</span><br></pre></td></tr></table></figure>

<p>4、修改表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">添加列：alter table 表名 add 列名 类型&#96;&#96;</span><br><span class="line">删除列：alter table 表名 drop column 列名&#96;&#96;</span><br><span class="line">修改列：&#96;&#96;    &#96;&#96;alter table 表名 modify column 列名 类型; -- 类型&#96;&#96;  </span><br><span class="line">			&#96;&#96;alter table 表名 change 原列名 新列名 类型; -- 列名，类型&#96;&#96; </span><br><span class="line">添加主键：&#96;&#96;    &#96;&#96;alter table 表名 add primary key(列名);&#96;&#96;</span><br><span class="line">删除主键：&#96;&#96;    &#96;&#96;alter table 表名 drop primary key;&#96;&#96;    </span><br><span class="line">			  &#96;&#96;alter table 表名 modify 列名 int, drop primary key;&#96;&#96; &#96; &#96;</span><br><span class="line">添加外键：alter table 从表 add constraint 外键名称（形如：FK_从表_主表） foreign key 从表(外键字段) references 主表(主键字段);&#96;&#96;</span><br><span class="line">删除外键：alter table 表名 drop foreign key 外键名称&#96;&#96; &#96; &#96;</span><br><span class="line">修改默认值：ALTER TABLE testalter_tbl ALTER i SET DEFAULT 1000;&#96;&#96;</span><br><span class="line">删除默认值：ALTER TABLE testalter_tbl ALTER i DROP DEFAULT;</span><br></pre></td></tr></table></figure>

<p>UPDATE &lt;表名&gt; SET 字段 1=值 1 [,字段 2=值 2… ] [WHERE 子句 ]<br>[ORDER BY 子句] [LIMIT 子句]</p>
<p>语法说明如下：</p>
<ul>
<li><code>&lt;表名&gt;</code>：用于指定要更新的表名称。</li>
<li><code>SET</code> 子句：用于指定表中要修改的列名及其列值。其中，每个指定的列值可以是表达式，也可以是该列对应的默认值。如果指定的是默认值，可用关键字 DEFAULT 表示列值。</li>
<li><code>WHERE</code> 子句：可选项。用于限定表中要修改的行。若不指定，则修改表中所有的行。</li>
<li><code>ORDER BY</code> 子句：可选项。用于限定表中的行被修改的次序。</li>
<li><code>LIMIT</code> 子句：可选项。用于限定被修改的行数。</li>
</ul>
<blockquote>
<p>注意：修改一行数据的多个列值时，SET 子句的每个值用逗号分开即可。</p>
</blockquote>
<p>5、基本数据类型</p>
<p>MySQL的数据类型大致分为：数值、时间和字符串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line">bit[(M)]</span><br><span class="line">    二进制位（101001），m表示二进制位的长度（1-64），默认m＝1</span><br><span class="line"></span><br><span class="line">tinyint[(m)] [unsigned] [zerofill]</span><br><span class="line"></span><br><span class="line">    小整数，数据类型用于保存一些范围的整数数值范围：</span><br><span class="line">    有符号：</span><br><span class="line">        -128 ～ 127.</span><br><span class="line">    无符号：</span><br><span class="line">        0 ～ 255</span><br><span class="line"></span><br><span class="line">    特别的： MySQL中无布尔值，使用tinyint(1)构造。</span><br><span class="line"></span><br><span class="line">int[(m)][unsigned][zerofill]</span><br><span class="line"></span><br><span class="line">    整数，数据类型用于保存一些范围的整数数值范围：</span><br><span class="line">        有符号：</span><br><span class="line">            -2147483648 ～ 2147483647</span><br><span class="line">        无符号：</span><br><span class="line">            0 ～ 4294967295</span><br><span class="line"></span><br><span class="line">    特别的：整数类型中的m仅用于显示，对存储范围无限制。例如： int(5),当插入数据2时，select 时数据显示为： 00002</span><br><span class="line"></span><br><span class="line">bigint[(m)][unsigned][zerofill]</span><br><span class="line">    大整数，数据类型用于保存一些范围的整数数值范围：</span><br><span class="line">        有符号：</span><br><span class="line">            -9223372036854775808 ～ 9223372036854775807</span><br><span class="line">        无符号：</span><br><span class="line">            0  ～  18446744073709551615</span><br><span class="line"></span><br><span class="line">decimal[(m[,d])] [unsigned] [zerofill]</span><br><span class="line">    准确的小数值，m是数字总个数（负号不算），d是小数点后个数。 m最大值为65，d最大值为30。</span><br><span class="line"></span><br><span class="line">    特别的：对于精确数值计算时需要用此类型</span><br><span class="line">           decaimal能够存储精确值的原因在于其内部按照字符串存储。</span><br><span class="line"></span><br><span class="line">FLOAT[(M,D)] [UNSIGNED] [ZEROFILL]</span><br><span class="line">    单精度浮点数（非准确小数值），m是数字总个数，d是小数点后个数。</span><br><span class="line">        无符号：</span><br><span class="line">            -3.402823466E+38 to -1.175494351E-38,</span><br><span class="line">            0</span><br><span class="line">            1.175494351E-38 to 3.402823466E+38</span><br><span class="line">        有符号：</span><br><span class="line">            0</span><br><span class="line">            1.175494351E-38 to 3.402823466E+38</span><br><span class="line"></span><br><span class="line">    **** 数值越大，越不准确 ****</span><br><span class="line"></span><br><span class="line">DOUBLE[(M,D)] [UNSIGNED] [ZEROFILL]</span><br><span class="line">    双精度浮点数（非准确小数值），m是数字总个数，d是小数点后个数。</span><br><span class="line"></span><br><span class="line">        无符号：</span><br><span class="line">            -1.7976931348623157E+308 to -2.2250738585072014E-308</span><br><span class="line">            0</span><br><span class="line">            2.2250738585072014E-308 to 1.7976931348623157E+308</span><br><span class="line">        有符号：</span><br><span class="line">            0</span><br><span class="line">            2.2250738585072014E-308 to 1.7976931348623157E+308</span><br><span class="line">    **** 数值越大，越不准确 ****</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">char (m)</span><br><span class="line">    char数据类型用于表示固定长度的字符串，可以包含最多达255个字符。其中m代表字符串的长度。</span><br><span class="line">    PS: 即使数据小于m长度，也会占用m长度</span><br><span class="line">varchar(m)</span><br><span class="line">    varchars数据类型用于变长的字符串，可以包含最多达255个字符。其中m代表该数据类型所允许保存的字符串的最大长度，只要长度小于该最大值的字符串都可以被保存在该数据类型中。</span><br><span class="line"></span><br><span class="line">    注：虽然varchar使用起来较为灵活，但是从整个系统的性能角度来说，char数据类型的处理速度更快，有时甚至可以超出varchar处理速度的50%。因此，用户在设计数据库时应当综合考虑各方面的因素，以求达到最佳的平衡</span><br><span class="line"></span><br><span class="line">text</span><br><span class="line">    text数据类型用于保存变长的大字符串，可以组多到65535 (2**16 − 1)个字符。</span><br><span class="line"></span><br><span class="line">mediumtext</span><br><span class="line">    A TEXT column with a maximum length of 16,777,215 (2**24 − 1) characters.</span><br><span class="line"></span><br><span class="line">longtext</span><br><span class="line">    A TEXT column with a maximum length of 4,294,967,295 or 4GB (2**32 − 1) characters.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">enum</span><br><span class="line">    枚举类型，</span><br><span class="line">    An ENUM column can have a maximum of 65,535 distinct elements. (The practical limit is less than 3000.)</span><br><span class="line">    示例：</span><br><span class="line">        CREATE TABLE shirts (</span><br><span class="line">            name VARCHAR(40),</span><br><span class="line">            size ENUM(&#39;x-small&#39;, &#39;small&#39;, &#39;medium&#39;, &#39;large&#39;, &#39;x-large&#39;)</span><br><span class="line">        );</span><br><span class="line">        INSERT INTO shirts (name, size) VALUES (&#39;dress shirt&#39;,&#39;large&#39;), (&#39;t-shirt&#39;,&#39;medium&#39;),(&#39;polo shirt&#39;,&#39;small&#39;);</span><br><span class="line"></span><br><span class="line">set</span><br><span class="line">    集合类型</span><br><span class="line">    A SET column can have a maximum of 64 distinct members.</span><br><span class="line">    示例：</span><br><span class="line">        CREATE TABLE myset (col SET(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;));</span><br><span class="line">        INSERT INTO myset (col) VALUES (&#39;a,d&#39;), (&#39;d,a&#39;), (&#39;a,d,a&#39;), (&#39;a,d,d&#39;), (&#39;d,a,d&#39;);</span><br><span class="line"></span><br><span class="line">DATE</span><br><span class="line">    YYYY-MM-DD（1000-01-01&#x2F;9999-12-31）</span><br><span class="line"></span><br><span class="line">TIME</span><br><span class="line">    HH:MM:SS（&#39;-838:59:59&#39;&#x2F;&#39;838:59:59&#39;）</span><br><span class="line"></span><br><span class="line">YEAR</span><br><span class="line">    YYYY（1901&#x2F;2155）</span><br><span class="line"></span><br><span class="line">DATETIME</span><br><span class="line"></span><br><span class="line">    YYYY-MM-DD HH:MM:SS（1000-01-01 00:00:00&#x2F;9999-12-31 23:59:59    Y）</span><br><span class="line"></span><br><span class="line">TIMESTAMP</span><br><span class="line"></span><br><span class="line">    YYYYMMDD HHMMSS（1970-01-01 00:00:00&#x2F;2037 年某时）</span><br></pre></td></tr></table></figure>

<p><em>二进制数据：TinyBlob、Blob、MediumBlob、LongBlob</em></p>
<p>更多参考：</p>
<ul>
<li><a href="http://www.runoob.com/mysql/mysql-data-types.html" target="_blank" rel="noopener">http://www.runoob.com/mysql/mysql-data-types.html</a></li>
<li><a href="http://dev.mysql.com/doc/refman/5.7/en/data-type-overview.html" target="_blank" rel="noopener">http://dev.mysql.com/doc/refman/5.7/en/data-type-overview.html</a></li>
</ul>
<h3 id="五、表内容操作"><a href="#五、表内容操作" class="headerlink" title="五、表内容操作"></a>五、表内容操作</h3><p>1、增</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert into 表 (列名,列名...) values (值,值,值...)</span><br><span class="line">insert into 表 (列名,列名...) values (值,值,值...),(值,值,值...)</span><br><span class="line">insert into 表 (列名,列名...) select (列名,列名...) from 表</span><br></pre></td></tr></table></figure>

<p>2、删</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete&#96; &#96;from&#96; &#96;表&#96;&#96;delete&#96; &#96;from&#96; &#96;表 &#96;&#96;where&#96; &#96;id＝1 &#96;&#96;and&#96; &#96;name&#96;&#96;＝&#96;&#96;&#39;alex&#39;</span><br></pre></td></tr></table></figure>

<p>3、改</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update&#96; &#96;表 &#96;&#96;set&#96; &#96;name&#96; &#96;＝ &#96;&#96;&#39;alex&#39;&#96; &#96;where&#96; &#96;id&gt;1</span><br></pre></td></tr></table></figure>

<p>4、查</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select&#96; &#96;* &#96;&#96;from&#96; &#96;表&#96;&#96;select&#96; &#96;* &#96;&#96;from&#96; &#96;表 &#96;&#96;where&#96; &#96;id &gt; 1&#96;&#96;select&#96; &#96;nid,&#96;&#96;name&#96;&#96;,gender &#96;&#96;as&#96; &#96;gg &#96;&#96;from&#96; &#96;表 &#96;&#96;where&#96; &#96;id &gt; 1</span><br></pre></td></tr></table></figure>

<p>5、其他</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a、条件</span><br><span class="line">  &#96;&#96;select&#96; &#96;* &#96;&#96;from&#96; &#96;表 &#96;&#96;where&#96; &#96;id &gt; 1 &#96;&#96;and&#96; &#96;name&#96; &#96;!&#x3D; &#96;&#96;&#39;alex&#39;&#96; &#96;and&#96; &#96;num &#x3D; 12;</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#96;&#96;select&#96; &#96;* &#96;&#96;from&#96; &#96;表 &#96;&#96;where&#96; &#96;id &#96;&#96;between&#96; &#96;5 &#96;&#96;and&#96; &#96;16;</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#96;&#96;select&#96; &#96;* &#96;&#96;from&#96; &#96;表 &#96;&#96;where&#96; &#96;id &#96;&#96;in&#96; &#96;(11,22,33)</span><br><span class="line">&#96;&#96;select&#96; &#96;* &#96;&#96;from&#96; &#96;表 &#96;&#96;where&#96; &#96;id &#96;&#96;not&#96; &#96;in&#96; &#96;(11,22,33)</span><br><span class="line">&#96;&#96;select&#96; &#96;* &#96;&#96;from&#96; &#96;表 &#96;&#96;where&#96; &#96;id &#96;&#96;in&#96; &#96;(&#96;&#96;select&#96; &#96;nid &#96;&#96;from&#96; &#96;表)</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">b、通配符</span><br><span class="line">  &#96;&#96;select&#96; &#96;* &#96;&#96;from&#96; &#96;表 &#96;&#96;where&#96; &#96;name&#96; &#96;like&#96; &#96;&#39;ale%&#39;&#96; &#96;- ale开头的所有（多个字符串）</span><br><span class="line">  &#96;&#96;select&#96; &#96;* &#96;&#96;from&#96; &#96;表 &#96;&#96;where&#96; &#96;name&#96; &#96;like&#96; &#96;&#39;ale_&#39;&#96; &#96;- ale开头的所有（一个字符）</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c、限制</span><br><span class="line">  &#96;&#96;select&#96; &#96;* &#96;&#96;from&#96; &#96;表 limit 5;      - 前5行</span><br><span class="line">  &#96;&#96;select&#96; &#96;* &#96;&#96;from&#96; &#96;表 limit 4,5;     - 从第4行开始的5行</span><br><span class="line">  &#96;&#96;select&#96; &#96;* &#96;&#96;from&#96; &#96;表 limit 5 offset 4  - 从第4行开始的5行</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">d、排序</span><br><span class="line">  &#96;&#96;select&#96; &#96;* &#96;&#96;from&#96; &#96;表 &#96;&#96;order&#96; &#96;by&#96; &#96;列 &#96;&#96;asc&#96;       &#96;- 根据 “列” 从小到大排列</span><br><span class="line">  &#96;&#96;select&#96; &#96;* &#96;&#96;from&#96; &#96;表 &#96;&#96;order&#96; &#96;by&#96; &#96;列 &#96;&#96;desc&#96;       &#96;- 根据 “列” 从大到小排列</span><br><span class="line">  &#96;&#96;select&#96; &#96;* &#96;&#96;from&#96; &#96;表 &#96;&#96;order&#96; &#96;by&#96; &#96;列1 &#96;&#96;desc&#96;&#96;,列2 &#96;&#96;asc&#96;  &#96;- 根据 “列1” 从大到小排列，如果相同则按列2从小到大排序</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">e、分组</span><br><span class="line">  &#96;&#96;select&#96; &#96;num &#96;&#96;from&#96; &#96;表 &#96;&#96;group&#96; &#96;by&#96; &#96;num</span><br><span class="line">  &#96;&#96;select&#96; &#96;num,nid &#96;&#96;from&#96; &#96;表 &#96;&#96;group&#96; &#96;by&#96; &#96;num,nid</span><br><span class="line">  &#96;&#96;select&#96; &#96;num,nid &#96;&#96;from&#96; &#96;表 &#96;&#96;where&#96; &#96;nid &gt; 10 &#96;&#96;group&#96; &#96;by&#96; &#96;num,nid &#96;&#96;order&#96; &#96;nid &#96;&#96;desc</span><br><span class="line">  &#96;&#96;select&#96; &#96;num,nid,&#96;&#96;count&#96;&#96;(*),&#96;&#96;sum&#96;&#96;(score),&#96;&#96;max&#96;&#96;(score),&#96;&#96;min&#96;&#96;(score) &#96;&#96;from&#96; &#96;表 &#96;&#96;group&#96; &#96;by&#96; &#96;num,nid</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#96;&#96;select&#96; &#96;num &#96;&#96;from&#96; &#96;表 &#96;&#96;group&#96; &#96;by&#96; &#96;num &#96;&#96;having&#96; &#96;max&#96;&#96;(id) &gt; 10</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#96;&#96;特别的：&#96;&#96;group&#96; &#96;by&#96; &#96;必须在&#96;&#96;where&#96;&#96;之后，&#96;&#96;order&#96; &#96;by&#96;&#96;之前</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">f、连表</span><br><span class="line">  &#96;&#96;无对应关系则不显示</span><br><span class="line">  &#96;&#96;select&#96; &#96;A.num, A.&#96;&#96;name&#96;&#96;, B.&#96;&#96;name</span><br><span class="line">  &#96;&#96;from&#96; &#96;A,B</span><br><span class="line">  &#96;&#96;Where&#96; &#96;A.nid &#x3D; B.nid</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#96;&#96;无对应关系则不显示</span><br><span class="line">&#96;&#96;select&#96; &#96;A.num, A.&#96;&#96;name&#96;&#96;, B.&#96;&#96;name</span><br><span class="line">&#96;&#96;from&#96; &#96;A &#96;&#96;inner&#96; &#96;join&#96; &#96;B</span><br><span class="line">&#96;&#96;on&#96; &#96;A.nid &#x3D; B.nid</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#96;&#96;A表所有显示，如果B中无对应关系，则值为&#96;&#96;null</span><br><span class="line">&#96;&#96;select&#96; &#96;A.num, A.&#96;&#96;name&#96;&#96;, B.&#96;&#96;name</span><br><span class="line">&#96;&#96;from&#96; &#96;A &#96;&#96;left&#96; &#96;join&#96; &#96;B</span><br><span class="line">&#96;&#96;on&#96; &#96;A.nid &#x3D; B.nid</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#96;&#96;B表所有显示，如果B中无对应关系，则值为&#96;&#96;null</span><br><span class="line">&#96;&#96;select&#96; &#96;A.num, A.&#96;&#96;name&#96;&#96;, B.&#96;&#96;name</span><br><span class="line">&#96;&#96;from&#96; &#96;A &#96;&#96;right&#96; &#96;join&#96; &#96;B</span><br><span class="line">&#96;&#96;on&#96; &#96;A.nid &#x3D; B.nid</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">g、组合</span><br><span class="line">  &#96;&#96;组合，自动处理重合</span><br><span class="line">  &#96;&#96;select&#96; &#96;nickname</span><br><span class="line">  &#96;&#96;from&#96; &#96;A</span><br><span class="line">  &#96;&#96;union</span><br><span class="line">  &#96;&#96;select&#96; &#96;name</span><br><span class="line">  &#96;&#96;from&#96; &#96;B</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#96;&#96;组合，不处理重合</span><br><span class="line">&#96;&#96;select&#96; &#96;nickname</span><br><span class="line">&#96;&#96;from&#96; &#96;A</span><br><span class="line">&#96;&#96;union&#96; &#96;all</span><br><span class="line">&#96;&#96;select&#96; &#96;name</span><br><span class="line">&#96;&#96;from&#96; &#96;B</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table score(</span><br><span class="line">sid int not null auto_increment primary key,</span><br><span class="line">student_id int(11) not null,</span><br><span class="line">constraint fk_st foreign key(student_id) references srudent(sid),</span><br><span class="line">corse_id int(11) not null,</span><br><span class="line">constraint fk_co foreign key(corse_id) references course(cid),</span><br><span class="line">number int not null</span><br><span class="line">) engine&#x3D;innodb default charset&#x3D;utf8;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ERROR 1005 (HY000): Can&#39;t create table &#39;class.score&#39; (errno: 150)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql&gt; CREATE TABLE score (</span><br><span class="line">sid int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">student_id int(11) NOT NULL,</span><br><span class="line">course_id int(11) NOT NULL,</span><br><span class="line">num int(11) NOT NULL,PRIMARY KEY (sid),</span><br><span class="line">KEY fk_score_student (student_id),</span><br><span class="line">KEY fk_score_course (course_id),</span><br><span class="line">CONSTRAINT fk_score_course FOREIGN KEY (course_id) REFERENCES course (cid),</span><br><span class="line">CONSTRAINT fk_score_student FOREIGN KEY (student_id) REFERENCES student(sid)) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br></pre></td></tr></table></figure>



<h3 id="六、编码问题"><a href="#六、编码问题" class="headerlink" title="六、编码问题"></a>六、编码问题</h3><p>插入中文时，中文全部变为空白(连空格都没)</p>
<p><img src="http://lulu.izliang.com/yty/bianmawenti.png" alt=""></p>
<p>摘自：<a href="https://www.cnblogs.com/wupeiqi/articles/5713315.html" target="_blank" rel="noopener">https://www.cnblogs.com/wupeiqi/articles/5713315.html</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/MySQL/" rel="tag"># MySQL</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/05/08/Wireshark%E5%9F%BA%E7%A1%80%E5%88%B0%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/" rel="next" title="Wireshark基础到案例分析">
                <i class="fa fa-chevron-left"></i> Wireshark基础到案例分析
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/05/25/%E6%88%91%E7%9A%84%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/" rel="prev" title="我的内网渗透">
                我的内网渗透 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1442298964,3218822834&fm=26&gp=0.jpg"
                alt="QuanYex" />
            
              <p class="site-author-name" itemprop="name">QuanYex</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#一、概述"><span class="nav-number">1.</span> <span class="nav-text">一、概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#二、下载安装"><span class="nav-number">2.</span> <span class="nav-text">二、下载安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#三、数据库操作"><span class="nav-number">3.</span> <span class="nav-text">三、数据库操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#四、数据表基本"><span class="nav-number">4.</span> <span class="nav-text">四、数据表基本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#五、表内容操作"><span class="nav-number">5.</span> <span class="nav-text">五、表内容操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#六、编码问题"><span class="nav-number">6.</span> <span class="nav-text">六、编码问题</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">QuanYex</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
